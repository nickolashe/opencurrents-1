{% extends "layouts/base.html" %}
{% load tags %}

{% block heading %}
  <div class="row">
    <div class="small-12 columns">
      <h4 class="title">
        {% block title %}
          {% if is_admin %}
            Hours
          {% else %}
            My hours for {{ orgname }}
          {% endif %}
        {% endblock title %}
      </h4>
    </div>
  </div>
{% endblock heading %}

{% block content %}
  <div class="row">
    <div class="medium-10 small-centered columns">
      <div class="left row">
        <div class="small-3 columns">
          <p>
            <strong>Date</strong>
          </p>
        </div>

        <div class="small-6 columns">
          <p>
            <strong>Description</strong>
          </p>
        </div>

        <div class="right small-3 columns">
          <p>
            <strong>Hours</strong>
          </p>
        </div>
      </div>
    </div>
  </div>


{% for hr in hours_detail  %}
  {% with event=hr.usertimelog.event %}
  <div class="row">
    <div class="medium-10 small-centered columns">
      <div class="left row">
        <div class="small-3 columns">
          <p class="half-margin-bottom">
            {{ event.datetime_start|date:"M d" }}
          </p>
        </div>

        <div class="small-6 columns">
        {% if event.event_type == 'MN' %}
          <p class="half-margin-bottom">{{ event.description }}</p>
        {% else %}
          <p class="half-margin-bottom">{{ event.project.name }} </p>
        {% endif %}
        </div>

        <div class="right small-2 columns">
          <p class="half-margin-bottom">
            {{ event.datetime_end|subtract_time:event.datetime_start }}
          </p>
        </div>
      </div>
    </div>
  </div>
  {% endwith %}
{% empty %}
    <h5>No records available</h5>
{% endfor %}


  <div class="row three-halves-margin-top">
    <a href="{% url 'openCurrents:profile' %}" class="button round">
      Back to profile
    </a>
  </div>

{% endblock content %}
